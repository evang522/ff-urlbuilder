(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(22)},18:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(11),i=n(8),c=n(6),u=n(1),o=n(2),s=n(4),l=n(3),d=n(5),p=(n(18),function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.createElement("h1",{style:this.props.style},this.props.text)}}]),t}(r.Component)),h=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).handleSelectChange=function(e){n.props.onChange(e.target.value)},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.createElement("div",null,"Wie viele verschiedene Produkte?",r.createElement("select",{value:this.props.desiredIdCount,onChange:this.handleSelectChange},r.createElement("option",{disabled:!0,value:0},"0"),r.createElement("option",{value:1},"1"),r.createElement("option",{value:2},"2"),r.createElement("option",{value:3},"3"),r.createElement("option",{value:4},"4"),r.createElement("option",{value:5},"5"),r.createElement("option",{value:6},"6"),r.createElement("option",{value:7},"7"),r.createElement("option",{value:8},"8"),r.createElement("option",{value:9},"9"),r.createElement("option",{value:10},"10")))}}]),t}(r.Component),f=n(7),m=n.n(f),v=n(9),b=function(){var e=Object(v.a)(m.a.mark(function e(t){var n,r,a,i,c,u,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://www.v2.fitfox.de/api/product/"+t,e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:if((a=e.sent)&&404!==a.code){e.next=9;break}throw new Error("Product Not Found");case 9:if(!a.eventOccurrence){e.next=20;break}return e.next=12,fetch("https://www.v2.fitfox.de/api/eventoccurrence/"+a.eventOccurrence.id);case 12:return i=e.sent,e.next=15,i.json();case 15:return c=e.sent,a.eventOccurrence=c,e.abrupt("return",a);case 20:return e.next=22,fetch("https://www.v2.fitfox.de/api/studio/"+a.studio.id);case 22:return u=e.sent,e.next=25,u.json();case 25:return o=e.sent,a.studio=o,e.abrupt("return",a);case 28:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).handleTextInputChange=function(){var e=Object(v.a)(m.a.mark(function e(t){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.onChange(t.target.value,n.props.idMember),36!==t.target.value.length){e.next=14;break}return e.prev=2,e.next=5,b(t.target.value);case 5:r=e.sent,n.props.setProductVerified(n.props.idMember,!0,r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n.props.setProductVerified(n.props.idMember,!1);case 12:e.next=15;break;case 14:n.props.idMember.verified&&n.props.setProductVerified(n.props.idMember,!1);case 15:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),n.handleQuantityChange=function(e){n.props.setProductQuantity(n.props.idMember,e.target.value)},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.createElement("div",null,r.createElement("input",{style:{border:"2px dotted black",borderRadius:"4px",fontSize:"15px",height:"2rem",margin:"1rem",textAlign:"center",width:"27rem"},maxLength:36,onChange:this.handleTextInputChange,value:this.props.idMember.productId||"",placeholder:"produkte id eingeben..."}),r.createElement("label",null,"Menge: "),r.createElement("select",{onChange:this.handleQuantityChange},r.createElement("option",{value:1},"1"),r.createElement("option",{value:2},"2"),r.createElement("option",{value:3},"3"),r.createElement("option",{value:4},"4"),r.createElement("option",{value:5},"5"),r.createElement("option",{value:6},"6"),r.createElement("option",{value:7},"7"),r.createElement("option",{value:8},"8"),r.createElement("option",{value:9},"9"),r.createElement("option",{value:10},"10")),this.props.idMember.verified?r.createElement("div",{style:{color:"green"}}," ","Verifiziert!  "+this.props.idMember.productTitle," "):null)}}]),t}(r.Component),E=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).generateIdList=function(){return n.props.idList.map(function(e,t){return r.createElement(g,{setProductVerified:n.props.setProductVerified,onChange:n.props.onChange,key:t,idMember:e,setProductQuantity:n.props.setProductQuantity})})},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.createElement("div",{style:{alignContent:"center",display:"flex",flexDirection:"column",flexWrap:"wrap",margin:"0 auto",textAlign:"center"}},this.generateIdList())}}]),t}(r.Component),O=function(e){var t="https://www.fitfox.de/checkout/?";return e.length?(e.reduce(function(e,t){return t.verified&&e.push(t),e},[]).forEach(function(e,n){e.verified&&(t+="products[".concat(n,"][id]=").concat(e.productId,"&products[").concat(n,"][quantity]=").concat(e.quantity,"&"))}),"&"===t[t.length-1]&&(t=t.slice(0,t.length-1)),t):""},j=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={desiredIdCount:0,idList:[]},n.handleProductSelectorInputChange=function(e,t){var r=[].concat(Object(c.a)(n.state.idList.filter(function(e){return e.uuid!==t.uuid})),[Object(i.a)({},t,{productId:e})]);n.setState({idList:Object(c.a)(r.sort(function(e,t){return Number(e.uuid)-Number(t.uuid)}))})},n.handleProductCountChange=function(e){var t=[];if(n.state.idList.length<e)for(var r=e-n.state.idList.length,a=0;a<r;a++)t.push(Object(i.a)({},{productId:null,productTitle:null,quantity:1,uuid:(1e6*Math.random()).toString(),verified:!1}));n.setState({desiredIdCount:Number(e),idList:[].concat(Object(c.a)(n.state.idList),t).slice(0,e).sort(function(e,t){return Number(e.uuid)-Number(t.uuid)})})},n.setProductVerified=function(e,t,r){var a=[].concat(Object(c.a)(n.state.idList.filter(function(t){return t.uuid!==e.uuid})),[Object(i.a)({},e,{verified:t},r&&{productTitle:"".concat(r.eventOccurrence&&r.eventOccurrence.name||r.studio.name," - ").concat(r.name," - Product Type:  ").concat(r.discriminator)})]);n.setState({idList:Object(c.a)(a.sort(function(e,t){return Number(e.uuid)-Number(t.uuid)}))})},n.setProductQuantity=function(e,t){var r=[].concat(Object(c.a)(n.state.idList.filter(function(t){return t.uuid!==e.uuid})),[Object(i.a)({},e,{quantity:t})]);n.setState({idList:Object(c.a)(r.sort(function(e,t){return Number(e.uuid)-Number(t.uuid)}))})},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.createElement("div",{className:"App"},r.createElement(p,{text:"Fitfox Checkout URL Builder"}),r.createElement(h,{desiredIdCount:this.state.desiredIdCount,onChange:this.handleProductCountChange}),r.createElement(E,{idList:this.state.idList,onChange:this.handleProductSelectorInputChange,setProductVerified:this.setProductVerified,setProductQuantity:this.setProductQuantity}),r.createElement("br",null),r.createElement("br",null),r.createElement("div",{style:{width:"80%",margin:"0 auto"}},r.createElement("a",{href:O(this.state.idList),target:"_blank",rel:"noreferrer"},O(this.state.idList))))}}]),t}(r.Component);n(21);a.render(r.createElement(j,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.f7618995.chunk.js.map